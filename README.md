# RPG Game - Architecture

このドキュメントは、JavaScript 総合課題 6-1 で作成する RPG ゲームのアーキテクチャについて説明します。

## ディレクトリ構造

プロジェクトは、関心事の分離（Separation of Concerns）の原則に基づき、以下のディレクトリ構造を採用しています。

```
javascript_general_mission_6_1/
├── css/
│   └── style.css
├── images/
├── js/
│   ├── constants.js
│   ├── main.js
│   ├── managers/
│   │   ├── GameManager.js
│   │   ├── SceneManager.js
│   │   └── UIManager.js
│   └── models/
│       ├── Character.js
│       ├── Enemy.js
│       └── Player.js
├── index.html
└── README.md
```

## 各ファイル・フォルダの役割

### `index.html`

- すべての画面の土台となる単一の HTML ファイルです。
- JavaScript によって DOM が動的に操作され、画面遷移が実現されます（SPA: Single Page Application）。

### `css/`

- アプリケーションのスタイルシートを格納します。

### `images/`

- ゲーム内で使用する画像ファイル（キャラクター、背景、敵など）を格納します。

### `js/`

- ゲームのロジックを構成する JavaScript ファイルを格納します。

#### `main.js`

- アプリケーション全体のエントリーポイント（最初に実行されるファイル）です。
- `GameManager`のインスタンスを生成し、ゲームを開始する役割を担います。

#### `constants.js`

- ゲーム内で使用する定数（キャラクターの初期ステータス、敵のデータ、フィールド情報など）を管理します。
- コードの可読性を高め、値の変更を容易にします。

#### `models/`

- ゲームに登場するオブジェクトの設計図（クラス）を定義します。データと、そのデータに関する基本的な振る舞いを持ちます。
- **`Character.js`**: プレイヤーと敵に共通するプロパティ（HP, 攻撃力など）とメソッドを持つ基底クラスです。
- **`Player.js`**: `Character`クラスを継承したプレイヤークラスです。プレイヤー特有のロジック（LV アップ、歩数管理など）を実装します。
- **`Enemy.js`**: `Character`クラスを継承した敵クラスです。

#### `managers/`

- ゲームの各要素を管理・制御するクラスを定義します。
- **`GameManager.js`**: ゲーム全体の進行を管理する司令塔です。セーブ・ロード機能、プレイヤーと敵のインスタンス生成、戦闘の開始・終了などを担当します。
- **`SceneManager.js`**: 「タイトル画面」「キャラクター選択画面」「フィールド画面」といったシーン（画面）の切り替えを管理します。
- **`UIManager.js`**: DOM 操作を専門に担当します。メッセージの表示、HP バーの更新、ボタンの有効化・無効化など、UI に関するすべての処理をこのクラスに集約します。

## 設計思想

このアーキテクチャは、オブジェクト指向の原則に基づいています。

- **カプセル化**: 各クラスは自身のデータとロジックに責任を持ち、内部の実装を隠蔽します。
- **継承**: `Player`と`Enemy`が`Character`を継承することで、コードの再利用性を高めています。
- **責務の分離**: `models`はデータの構造、`managers`はゲームのロジック、`UIManager`は画面の表示、というように役割を明確に分離することで、コードのメンテナンス性と拡張性を向上させています。例えば、戦闘のルールを変更したい場合は`GameManager`を、UI の見た目を変更したい場合は`UIManager`と`style.css`を修正すればよく、他の部分への影響を最小限に抑えることができます。
