# 残タスク一覧 (要件定義 v2 準拠) - 改訂版

## ロジック実装 (未実装・要修正)

- [-] **レベルアップ時の勝率上昇**
  - [-] `Character.js` のレベルアップ処理に、勝利確率(`winProbability`)を上昇させるロジックを追加する。
- [ ] **ステータス記録・計算**

  - [-] 敵の討伐数を記録する (`Character.js` または `GameManager.js`)
  - [-] 敵出現ログ（履歴）を記録する (`GameManager.js`)
    js/managers/GameManager.js 153 で敵作成
    this.enemyCount++;
    this.enemyHistory.push(enemy.name); // 敵の名前を履歴に追加
    21,22 行目
    this.enemyCount = 0; // 敵の出現回数をカウントするための変数
    this.enemyHistory = []; // 敵の出現履歴を保持する配列

  - [-] 敵出現平均歩数を計算するロジックを実装する (`GameManager.js`)160 行目
    this.aveWalkEncounterRate = 0; // 平均エンカウント率を計算するための変数
    this.aveWalkEncounterRate = this.enemyCount / this.walkCount\*100; // 平均エンカウント率を計算

- [ ] **ブラウザ制御**
  - [ ] フィールド画面でリロード(F5)を無効化する
  - [ ] フィールド画面でブラウザの「戻る」機能を無効化する
- [ ] **ゲームフロー**
  - [ ] 敗北後、数秒待ってからタイトル画面に遷移させる

## UI 実装 (未実装)

- [ ] **フィールド画面**
  - [ ] **ステータス表示エリアの作成と連携**
    - [ ] 総歩数を表示する
    - [ ] 敵の討伐数を表示する
    - [ ] 敵出現平均歩数を表示する
    - [ ] 敵出現ログ（履歴）を表示する
  - [ ] **戦闘関連の表示**
    - [ ] 敵の画像を「倒された」状態に変更する
  - [ ] **メッセージ表示**
    - [ ] 状況に応じてメッセージエリアのテキストを更新する（例：「歩く方向を押してください」）

## その他

- [ ] **リファクタリング**
  - [ ] 不要なファイル (`js/models/Player.js`, `js/constants.js`) を削除する
